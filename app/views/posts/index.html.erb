<div class="section">
  <div class="container">
    <div class="row">
      <div class="col-md-4"></div>
      <div class="col-md-4"></div>
      <div class="col-md-4">
        <%= form_tag posts_path, :method => 'get', :class => "form-inline" do %>
          <div style="text-align:right; margin-top:25px">
            <%= text_field_tag :search, params[:search], :class => "form-control", :placeholder => raw("&#x1F50D; Search...") %>
          </div>
        <% end %>
      </div>
    </div>
    <% if @posts.count() == 0 %>
      <div class="row">
        <div class="col-md-2"></div>
        <div class="col-md-10">
          <% if @search_performed %>
            <h3 style="color:red;">No posts meet the search criteria</h3>
          <% else %>
            <h3>No posts to display</h3>
          <% end %>
        </div>
        <div class="col-md-2"></div>
      </div>
    <% else %>
      <% @posts.each do |post| %>
        <div class="row">
          <div class="col-md-2"></div>
          <div class="col-md-10">
            <h1><%= post.title %></h1>
          </div>
          <div class="col-md-2"></div>
        </div>
        <div class="row">
          <div class="col-md-2"></div>
          <div class="col-md-8" style="white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">
            <%= post.body %>
          </div>
          <div class="col-md-2"></div>
        </div>
        <div class="row">
          <div class="col-md-8"></div>
          <div class="col-md-2">
            <span class="tag is-rounded"><%= link_to "Comments #{post.comments.count}", post %></span>
          </div>
          <div class="col-md-4"></div>
        </div>
      <% end %>
    <% end %>
  </div>
</div>